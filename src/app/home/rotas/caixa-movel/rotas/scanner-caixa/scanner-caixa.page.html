<ion-content *ngIf="telaEspelho" no-bounce has-bouncing="false" forceOverscroll="false">
  <div id="scan" *ngIf="!telaDigCodigo">
    <div id="backUp">
      <ion-header>
        <ion-toolbar color="dark" style="height: auto">
          <ion-buttons slot="start">
            <ion-button (click)="navigateBack()" fill="clear" shape="round"><ion-icon slot="icon-only" class="flashIcon" name="close-outline"></ion-icon></ion-button>
          </ion-buttons>
          <ion-buttons slot="end">
            <!--<ion-button (click)="switchFlashLight();presentToast('Em desenvolvimento...')" fill="clear" shape="round" *ngIf="!flashIsSwitchedOn"><ion-icon slot="icon-only" class="flashIcon" name="flash-outline"></ion-icon></ion-button>
            <ion-button (click)="switchFlashLight();presentToast('Em desenvolvimento...')" fill="clear" shape="round" *ngIf="flashIsSwitchedOn"><ion-icon slot="icon-only" class="flashIcon" name="flash-off-outline"></ion-icon></ion-button>-->
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
    </div>
    <div id="line"></div>
    <div id="backDown">
      <ion-button (click)="telaDigCodigo = !telaDigCodigo; telaEspelho = true;stopScan();">Digite o c贸digo</ion-button>
    </div>
  </div>
  <div id="code" *ngIf="telaDigCodigo">
    <ion-header>
      <ion-toolbar color="dark" style="height: auto">
        <ion-buttons slot="start">
          <ion-button routerLink="/home/caixa-movel" routerDirection="back"><ion-icon slot="icon-only" name="arrow-back-outline"></ion-icon></ion-button>
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
    <ion-item lines="none">
      <ion-label id="titleCode">digite o c贸digo de barras</ion-label>
    </ion-item>
    <form #f="ngForm" (ngSubmit)="consultarProd(f)">
      <ion-item lines="full">
        <ion-label position="stacked">c贸digo de barras</ion-label>
        <ion-input ngModel name="codeProd" inputmode="numeric"></ion-input>
      </ion-item>
      <div id="btnConsultar">
        <ion-button type="submit">Consultar</ion-button>
      </div>
    </form>
  </div>
</ion-content>
<ion-modal
    [isOpen]="modalProdIsOpen"
    [canDismiss]="true"
    swipe-to-close="true"
  >
    <ng-template>
      <ion-header style="background: var(--ion-color-dark) !important">
        <ion-toolbar color="dark">
          <ion-title>produto</ion-title>
        </ion-toolbar>
      </ion-header>
      <ion-content>
        <div class="produtos">
          <ion-item class="produto" lines="full">
            <ion-label>
              {{produtos['nome']}}
              <p>Cod: {{produtos['cod']}}</p>
              <p>QntMax: {{produtos['qntMax']}}</p>
              <p>medida: {{produtos['medida']}}</p>
              <div style="display: flex;align-items: baseline;justify-content: flex-start;">
                <div class="addItem">
                  <ion-button (click)="produtos['qnt'] = changeQnt(produtos['qnt'], 'sub');totalCar();" expand="block" fill="clear" shape="round"><ion-icon slot="icon-only" name="remove-outline"></ion-icon></ion-button>
                  <input [value]="produtos['qnt']" (input)="produtos['qnt'] = toIntQnt($event.target['value']);totalCar();" onkeypress="return event.charCode >= 48 && event.charCode <= 57" type = "text" maxlength = "6" inputmode="numeric" pattern="[0-9]+">
                  <ion-button (click)="produtos['qnt'] = changeQnt(produtos['qnt'], 'add');totalCar();" expand="block" fill="clear" shape="round"><ion-icon slot="icon-only" name="add-outline"></ion-icon></ion-button>
                </div>
              </div>
            </ion-label>
            <ion-label slot="end">{{convertReal(produtos['valor']*produtos['qnt'])}}</ion-label>
          </ion-item>
          <div style="display: flex;align-items: baseline;justify-content: center;margin-top: 10px;">
            <ion-button color="danger" style="margin-right: 30px;">Cancelar</ion-button>
            <ion-button >Adicionar</ion-button>
          </div>
        </div>
      </ion-content>
    </ng-template>
</ion-modal>
<div id="scan" *ngIf="!telaEspelho">
  <div id="backUp">
    <ion-header>
      <ion-toolbar color="dark" style="height: auto">
        <ion-buttons slot="start">
          <ion-button (click)="navigateBack()" fill="clear" shape="round"><ion-icon slot="icon-only" class="flashIcon" name="close-outline"></ion-icon></ion-button>
        </ion-buttons>
        <ion-buttons slot="end">
          <!--<ion-button (click)="switchFlashLight();presentToast('Em desenvolvimento...')" fill="clear" shape="round" *ngIf="!flashIsSwitchedOn"><ion-icon slot="icon-only" class="flashIcon" name="flash-outline"></ion-icon></ion-button>
          <ion-button (click)="switchFlashLight();presentToast('Em desenvolvimento...')" fill="clear" shape="round" *ngIf="flashIsSwitchedOn"><ion-icon slot="icon-only" class="flashIcon" name="flash-off-outline"></ion-icon></ion-button>-->
        </ion-buttons>
      </ion-toolbar>
    </ion-header>
  </div>
  <div id="line"></div>
  <div id="backDown">
    <ion-button (click)="telaDigCodigo = !telaDigCodigo; telaEspelho = true;stopScan();">Digite o c贸digo</ion-button>
  </div>
</div>
